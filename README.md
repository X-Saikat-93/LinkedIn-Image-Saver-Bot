# LinkedIn Image Downloader Telegram Bot üì∏

A Telegram bot that downloads images from LinkedIn posts. This bot uses Supabase for a secure database with Row Level Security (RLS) to ensure user data is protected.

## ‚ú® Features

- üì∏ **Download Images:** Easily download all images from a public LinkedIn post.
- ‚ö° **Fast & Reliable:** Built for quick and reliable performance.
- üìä **Usage Tracking:** Tracks daily usage with built-in limits for the free tier.
- üîê **Secure Database:** Implements Supabase Row Level Security (RLS) for robust data protection.
- üÜì **Free Tier:** Get started with 5 free downloads per day.
- üöÄ **Premium Ready:** Designed to be easily expandable with premium features in the future.

---

## üöÄ Quick Start

Follow these steps to set up and run your own instance of the bot.

### 1. Create a Telegram Bot

1.  Open Telegram and search for **`@BotFather`**.
2.  Send the `/newbot` command and follow the on-screen instructions to create your bot.
3.  Copy the **API token** provided by BotFather.
4.  Send the `/setcommands` command to BotFather and set the commands as follows:
    * `start` - Start the bot
    * `help` - Get help

### 2. Set up a Supabase Database

1.  Go to [supabase.com](https://supabase.com) and create a free account.
2.  Create a new project.
3.  In your new project, navigate to the SQL editor and run the following script:

```sql
-- Create users table
create table users (
  id bigint generated by default as identity primary key,
  telegram_id text unique not null,
  username text,
  first_name text,
  last_name text,
  is_premium boolean default false,
  created_at timestamp with time zone default now(),
  last_active timestamp with time zone default now()
);

-- Create usage_logs table
create table usage_logs (
  id bigint generated by default as identity primary key,
  user_id bigint references users(id),
  post_url text,
  image_count integer,
  created_at timestamp with time zone default now()
);

-- Enable RLS on both tables
alter table users enable row level security;
alter table usage_logs enable row level security;

-- Create function to set user context
create or replace function set_user_context(user_telegram_id text)
returns void as $$
begin
  perform set_config('app.current_telegram_id', user_telegram_id, false);
end;
$$ language plpgsql security definer;

-- Create policies for users table
create policy "Users can view their own data"
  on users for select
  using (telegram_id = current_setting('app.current_telegram_id', true));

create policy "Users can insert their own data"
  on users for insert
  with check (telegram_id = current_setting('app.current_telegram_id', true));

create policy "Users can update their own data"
  on users for update
  using (telegram_id = current_setting('app.current_telegram_id', true));

-- Create policies for usage_logs table
create policy "Users can view their own usage logs"
  on usage_logs for select
  using (user_id = (select id from users where telegram_id = current_setting('app.current_telegram_id', true)));

create policy "Users can insert their own usage logs"
  on usage_logs for insert
  with check (user_id = (select id from users where telegram_id = current_setting('app.current_telegram_id', true)));

-- Create indexes for better performance
create index on users (telegram_id);
create index on usage_logs (user_id);
create index on usage_logs (created_at);
```


### 3. Configure Environment Variables

Create a `.env` file in your project directory with the following content, replacing the placeholder values with your actual credentials:

Bash

```
TELEGRAM_TOKEN=YOUR_TELEGRAM_BOT_TOKEN_HERE
SUPABASE_URL=YOUR_SUPABASE_PROJECT_URL_HERE
SUPABASE_KEY=YOUR_SUPABASE_ANON_PUBLIC_KEY_HERE

```

You can find these values in the following places:

-   **TELEGRAM_TOKEN**: From `@BotFather` on Telegram.
    
-   **SUPABASE_URL**: Supabase Dashboard > Project Settings > API > `Project URL`.
    
-   **SUPABASE_KEY**: Supabase Dashboard > Project Settings > API > `anon public key`.
    

### 4. Install Dependencies

Install the required Python packages using pip:

Bash

```
pip install -r requirements.txt

```

### 5. Run the Bot

To start the bot, run the following command:

Bash

```
python bot.py

```

----------

## ‚òÅÔ∏è Deployment Options

### Using Docker

1.  Build the Docker image:
    
    Bash
    
    ```
    docker build -t linkedin-downloader .
    
    ```
    
2.  Run the Docker container:
    
    Bash
    
    ```
    docker run -d --name linkedin-bot --env-file .env linkedin-downloader
    
    ```
    

### Deploy to Render

1.  Push your code to a GitHub repository.
    
2.  Create a new **Web Service** on Render.
    
3.  Connect your GitHub repository.
    
4.  Set the environment variables in the Render dashboard.
    
5.  Deploy!
    

### Deploy to Railway

1.  Push your code to a GitHub repository.
    
2.  Create a new project on Railway.
    
3.  Connect your GitHub repository.
    
4.  Set the environment variables.
    
5.  Deploy!
    

----------

## ‚öôÔ∏è Usage

1.  Start a chat with your bot on Telegram.
    
2.  Send the `/start` command to initiate the bot.
    
3.  Send a public LinkedIn post URL.
    
4.  Wait for the bot to download and send the images to you.
    

----------

## ‚ö†Ô∏è Limitations

-   Only works with **public LinkedIn posts**.
    
-   The **daily limit is 5 downloads** per user on the free tier.
    
-   Due to LinkedIn's anti-scraping measures, some posts may not be able to be processed.
    

----------

## ü§ù Support

For any issues or questions, feel free to open an issue on the GitHub repository.

## Contact

If you have any questions or feedback, please don't hesitate to reach out to me on [GitHub](https://github.com/X-Saikat-93).